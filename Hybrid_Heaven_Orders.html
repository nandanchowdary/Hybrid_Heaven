<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hybrid Heaven | My Orders</title>
    <link rel="stylesheet" href="project_styles_main.css">
    <script src="project_script_main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="project_images/logo-icon.png">
    <link rel="stylesheet" href="home_page_offers.css">
    <script src="search.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .orders-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .orders-header {
            text-align: center;
            margin-bottom: 30px;
            color: #2e7d32;
        }
        
        .order-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .order-header {
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .order-body {
            padding: 15px;
        }
        
        .order-items {
            width: 100%;
            border-collapse: collapse;
        }
        
        .order-items th {
            background-color: #f1f1f1;
            padding: 12px;
            text-align: left;
        }
        
        .order-items td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
            vertical-align: middle;
        }
        
        .item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
        }
        
        .order-summary {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .total-row {
            font-weight: bold;
            font-size: 18px;
            border-top: 1px solid #ddd;
            padding-top: 10px;
            margin-top: 10px;
        }
        
        .order-status {
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            text-transform: capitalize;
        }
        
        .status-processing {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-shipped {
            background-color: #cce5ff;
            color: #004085;
        }
        
        .status-delivered {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .empty-orders {
            text-align: center;
            padding: 50px;
        }
        
        .empty-orders img {
            width: 150px;
            margin-bottom: 20px;
        }
        
        .order-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .track-btn {
            background-color: #17a2b8;
            color: white;
        }
        
        .cancel-btn {
            background-color: #dc3545;
            color: white;
        }
        
        .reorder-btn {
            background-color: #28a745;
            color: white;
        }
        
        @media (max-width: 768px) {
            .order-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .order-items thead {
                display: none;
            }
            
            .order-items tr {
                display: block;
                margin-bottom: 15px;
                border: 1px solid #ddd;
                border-radius: 8px;
                padding: 10px;
            }
            
            .order-items td {
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: none;
                padding: 8px 0;
            }
            
            .order-items td::before {
                content: attr(data-label);
                font-weight: bold;
                margin-right: 10px;
            }
        }
    </style>
</head>
<body class="body">
    <section class="grid">
        <div>
            <a href="Hybrid_Heaven.html"><img class="logo" alt="logo" src="project_images/logo.png" height="80px" width="120px"></a>
        </div>
        <div>
            <nav class="navbar" id="navbar">
                <ul class="nav-links">
                    <li><a href="Hybrid_Heaven_Home.html">Home</a></li>
                    <li><a href="Hybrid_Heaven_Plants.html">Plants</a></li>
                    <li><a href="Hybrid_Heaven_Orders.html">Orders</a></li>
                    <li><a href="Hybrid_Heaven.html">About</a></li>
                    <li><a href="Hybrid_Heaven_Contact.html">Contact</a></li>
                    <li><a href="Hybrid_Heaven_Feedback.html">Feedback</a></li>
                </ul>
            </nav>
        </div>
        <div class="search-container">
            <form style="display: flex; align-items: center;" action="search_table_values.php" method="post">
              <input type="text" id="search-bar" name="search_name" placeholder="Search something you want" style="flex: 1; padding: 15px;">
              <button id="search-btn" type="submit" style="padding: 15px 12px;">üîç</button>
            </form>
        </div>
        <div>
            <a href="login.html" class="login-icon"><i class="fas fa-user"></i></a>
            <a href="cart.html" class="cart-icon">üõí</a>
        </div>
    </section>
    
    <div class="whatsapp-label-container" id="whatsapp-label">
        <span>Chat with us</span>
        <button onclick="document.getElementById('whatsapp-label').style.display='none'">‚úï</button>
    </div>
      
    <a href="https://wa.me/919505736713" class="whatsapp-float" target="_blank" title="Chat with us on WhatsApp">
        <img src="https://img.icons8.com/color/60/000000/whatsapp--v1.png" alt="WhatsApp Chat">
    </a>
    
    <span class="sol"><marquee behavior="alternate" direction="left" scrollamount="12" style="color: green; font-size: 18px; font-weight: bold;"><img src="project_images/logo-icon.png" height="30px" width="30px"> &nbsp;FLASH SALE! Get <span style="color:rgb(196, 92, 7);">20% OFF </span>on all plants! Use code: <span style="color:rgb(196, 92, 7);">GREEN20</span> at checkout. Hurry, limited time only! üèÉ‚Äç‚ôÇÔ∏è</marquee></span>
    
    <div class="orders-container">
        <h1 class="orders-header">Your Orders</h1>
        
        <div id="orders-content">
            <!-- Orders will be dynamically inserted here -->
        </div>
    </div>
    
    <div style="background-color:white;"><br>
        <section class="aboutus">
            <div style="text-align:center;">
                <h2 style="text-align:center;"><b>Useful Links</b></h2><br>
                    <a href="Hybrid_Heaven_Track_Order.html">Track Order</a><br>
                    <a href="Hybrid_Heaven_Orders.html">Orders</a><br>
                    <a href="Hybrid_Heaven_Faqs.html">FAQ's</a><br>
                    <a href="Hybrid_Heaven_Offers.html">Offers</a><br>
                    <a href="Hybrid_Heaven_Rewards.html">Rewards</a><br>
                    <a href="Hybrid_Heaven_Affiliate.html">Affiliate</a><br>
            </div>
            <div style="text-align:center;">
                <h2 style="text-align:center;"><b>About</b></h2><br>
                    <a href="Hybrid_Heaven.html">About Hybrid Heaven</a><br>
                    <a href="Hybrid_Heaven_Privacy_Policy.html">Privacy Policy</a><br>
                    <a href="Hybrid_Heaven_Refund_Policy.html">Refund Policy</a><br>
                    <a href="Hybrid_Heaven_Shipping_Policy.html">Shipping Policy</a><br>
                    <a href="Hybrid_Heaven_Terms_Of_Service.html">Terms of Service</a><br>
                    <a href="Hybrid_Heaven_Jobs.html">Jobs</a><br>
            </div>
            <div style="text-align:center;">
                <h2 style="text-align:center;"><b>Follow Us</b></h2><br>
                    <a href="https://x.com/HybridHeavenOff?t=PNUJ0olnoD7j8Kqmx85_GQ&s=09" target="_blank"><img src="project_images/twittericon.png" width="40px" height="37px" style="border-radius:30px;"></a>
                    <a href="https://www.instagram.com/hybridheavenofficial/?utm_source=ig_web_button_share_sheet" target="_blank"><img src="project_images/instaicon.png" width="35px" height="33px" style="border-radius:30px;"></a>
                    <a href="https://www.youtube.com/channel/UCyuXTJPqFJkzAVaPV4Wy-dw" target="_blank"><img src="project_images/yticon.png" width="35px" height="33px" style="border-radius:30px;"></a>
                    <a href="https://www.facebook.com/profile.php?id=61575038390477"target="_blank"><img src="project_images/fbicon2.png" width="35px" height="33px" style="border-radius:30px;"></a>
                    <a href="https://www.linkedin.com/in/hybrid-heaven-877483359/" target="_blank"><img src="project_images/linkdinicon.png" width="40px" height="37px" style="border-radius:30px;"></a>
            </div>
            <div>
                <h2>Get in Touch</h2><br>
                <a href="#">Call: +91 9505736713</a><br>
                <a href="https://wa.me/919505736713">WhatsApp: +91 9505736713</a><br>
                <a href="https://wa.me/919505736713" target="_blank">For Bulk Orders (WhatsApp):<br>+91 9505736713</a><br>
                Email:<br><a href="mailto:hybridheavenofficial25@gmail.com" target="_blank">hybridheavenofficial25@gmail.com</a>
                <p>Address:<br> 3-81/1, Near Panchayati, Chinakakani, Mangalagiri, Guntur, Andhra Pradesh. India-522503</p>
            </div>
            <div class="signup" style="text-align:center;">
                <h2><b>Subscribe</b></h2><br>
                <p>Join us to recieve gardening tips,offers,news & more..</p>
                <form action="subscribe_table_values.php" method="post">
                <input type="email" id="email" placeholder="Enter email address" id="subss" name="subscribeemail" style="padding:10px;width:280px;" required>
                <span id="emailError" class="error"></span><br><hr>
                <button style="padding:5px;color:rgba(32, 27, 23, 0.904);background-color:#93d88ec9" id="subss" onclick="Subscribe()"><b>Sign up</b></button>
                </form>
            </div>
        </section>
        <footer align="center" style="color:#3d3c3c;background-color:rgb(150, 150, 153);padding:3px;">
            <p><h6>&copy; 2025 <a href="Hybrid_Heaven.html" style="text-decoration:none;color:#3d3c3c;">Hybrid Heaven</a> | All Rights Reserved</h6></p>
        </footer>
    </div>

    <button onclick="scrollToTop()" id="goTopBtn" title="Go to top">‚ÜëTOP</button>

    <script>
        // Sample orders data - in a real application, this would come from localStorage or a database
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        
        // Function to render orders
        function renderOrders() {
            const ordersContent = document.getElementById('orders-content');
            
            if (orders.length === 0) {
                ordersContent.innerHTML = `
                    <div class="empty-orders">
                        <img src="project_images/empty-orders.png" alt="No Orders">
                        <h2>You haven't placed any orders yet</h2>
                        <p>Start shopping to see your orders here</p>
                        <a href="Hybrid_Heaven_Plants.html" class="btn btn-success">Shop Now</a>
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            // Sort orders by date (newest first)
            orders.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            orders.forEach((order, index) => {
                let itemsHtml = '';
                let orderTotal = 0;
                
                order.items.forEach(item => {
                    const subtotal = item.price * item.quantity;
                    orderTotal += subtotal;
                    
                    itemsHtml += `
                        <tr>
                            <td data-label="Product">
                                <img src="${item.image}" alt="${item.name}" class="item-image">
                                <span>${item.name}</span>
                            </td>
                            <td data-label="Price">‚Çπ${item.price.toFixed(2)}</td>
                            <td data-label="Quantity">${item.quantity}</td>
                            <td data-label="Subtotal">‚Çπ${subtotal.toFixed(2)}</td>
                        </tr>
                    `;
                });
                
                // Determine status class
                let statusClass = '';
                switch(order.status.toLowerCase()) {
                    case 'processing':
                        statusClass = 'status-processing';
                        break;
                    case 'shipped':
                        statusClass = 'status-shipped';
                        break;
                    case 'delivered':
                        statusClass = 'status-delivered';
                        break;
                    case 'cancelled':
                        statusClass = 'status-cancelled';
                        break;
                    default:
                        statusClass = 'status-processing';
                }
                
                html += `
                    <div class="order-card">
                        <div class="order-header">
                            <div>
                                <strong>Order #${order.orderId}</strong>
                                <span>Placed on ${new Date(order.date).toLocaleDateString()}</span>
                            </div>
                            <div>
                                <span class="order-status ${statusClass}">${order.status}</span>
                            </div>
                        </div>
                        
                        <div class="order-body">
                            <table class="order-items">
                                <thead>
                                    <tr>
                                        <th>Product</th>
                                        <th>Price</th>
                                        <th>Quantity</th>
                                        <th>Subtotal</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${itemsHtml}
                                </tbody>
                            </table>
                            
                            <div class="order-summary">
                                <div class="summary-row">
                                    <span>Subtotal:</span>
                                    <span>‚Çπ${orderTotal.toFixed(2)}</span>
                                </div>
                                <div class="summary-row">
                                    <span>Shipping:</span>
                                    <span>‚Çπ${order.shippingFee.toFixed(2)}</span>
                                </div>
                                <div class="summary-row total-row">
                                    <span>Total:</span>
                                    <span>‚Çπ${(orderTotal + order.shippingFee).toFixed(2)}</span>
                                </div>
                                
                                <div class="order-actions">
                                    <button class="action-btn track-btn" onclick="trackOrder('${order.orderId}')">
                                        <i class="fas fa-truck"></i> Track Order
                                    </button>
                                    ${order.status.toLowerCase() === 'processing' ? `
                                    <button class="action-btn cancel-btn" onclick="cancelOrder('${order.orderId}', ${index})">
                                        <i class="fas fa-times"></i> Cancel Order
                                    </button>
                                    ` : ''}
                                    <button class="action-btn reorder-btn" onclick="reorderItems(${index})">
                                        <i class="fas fa-shopping-cart"></i> Reorder
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            ordersContent.innerHTML = html;
        }
        
        // Function to track order
        function trackOrder(orderId) {
            alert(`Tracking order #${orderId}. In a real application, this would redirect to a tracking page.`);
            // window.location.href = `track-order.html?id=${orderId}`;
        }
        
        // Function to cancel order
        function cancelOrder(orderId, index) {
            if (confirm(`Are you sure you want to cancel order #${orderId}?`)) {
                orders[index].status = 'Cancelled';
                localStorage.setItem('orders', JSON.stringify(orders));
                renderOrders();
                alert(`Order #${orderId} has been cancelled.`);
            }
        }
        
        // Function to reorder items
        function reorderItems(orderIndex) {
            const order = orders[orderIndex];
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            
            // Add items to cart
            order.items.forEach(item => {
                const existingItemIndex = cartItems.findIndex(cartItem => cartItem.id === item.id);
                
                if (existingItemIndex >= 0) {
                    // Item already in cart, update quantity
                    cartItems[existingItemIndex].quantity += item.quantity;
                } else {
                    // Add new item to cart
                    cartItems.push({
                        id: item.id,
                        name: item.name,
                        price: item.price,
                        quantity: item.quantity,
                        image: item.image
                    });
                }
            });
            
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            alert('Items have been added to your cart!');
            window.location.href = 'cart.html';
        }
        
        // Function to scroll to top
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // If we're coming from the cart page after placing an order
            const justOrdered = sessionStorage.getItem('justOrdered');
            if (justOrdered === 'true') {
                alert('Order placed successfully! Thank you for shopping with us.');
                sessionStorage.removeItem('justOrdered');
            }
            
            renderOrders();
        });
        
        function Subscribe(){
            alert("We will contact you soon");
        }
    </script>
</body>
</html>